---
epic: 1
story: 4
title: "Test Design: Category Highlights Bar"
---

### 1. Introduction

This document outlines the test plan for **Story 1.4: Category Highlights Bar**. The purpose is to verify that the `CategoryHighlights` component correctly processes a list of dishes, derives a unique and sorted list of categories, and renders them as a horizontally scrollable bar of circular buttons.

### 2. Test Objectives

*   **Verify Category Derivation:** Ensure the component correctly extracts a unique, alphabetically sorted list of categories from the `dishes` prop.
*   **Validate "Specials" Category Logic:** Confirm that the "Specials" button is displayed as the first item if and only if at least one dish has a `tag` other than `normal`.
*   **Assess Rendering:** Check that all derived categories are rendered as buttons within a scrollable container.
*   **Test Click Handling:** Verify that clicking a category button triggers the appropriate callback function.

### 3. Test Scope

*   **In Scope:**
    *   Unit tests for the `CategoryHighlights` component.
    *   Testing the category derivation logic with various `Dish` array inputs.
    *   Verifying the presence and order of rendered category buttons.
*   **Out of Scope:**
    *   The visual appearance of the gradient rings.
    *   The implementation of the "Reel View" that is triggered on click.

### 4. Test Cases

| Test Case ID | Description | Steps | Expected Result |
| :--- | :--- | :--- | :--- |
| **1.4-L-01** | **Derive Categories (No Specials):** Provide a list of dishes with no special tags. | 1. Create a mock `Dish[]` array with categories 'Pizza', 'Burgers', 'Pizza'. <br> 2. Render the `CategoryHighlights` component. | 1. The component should render two category buttons. <br> 2. The buttons should be in alphabetical order: "Burgers", "Pizza". <br> 3. The "Specials" button should **not** be present. |
| **1.4-L-02** | **Derive Categories (With Specials):** Provide a list of dishes where at least one has a special tag. | 1. Create a mock `Dish[]` array with one dish having `tag: 'bestseller'`. <br> 2. Render the `CategoryHighlights` component. | 1. The "Specials" button should be rendered as the **first** item. <br> 2. The other unique categories should be rendered after it in alphabetical order. |
| **1.4-L-03** | **Derive Categories (Empty List):** Provide an empty `dishes` array. | 1. Render the component with `dishes={[]}`. | The component should render nothing (or an empty container), and no errors should be thrown. |
| **1.4-R-01** | **Render Correct Button Text:** Render the component with a list of dishes. | 1. Render the component with a mock `Dish[]` array. <br> 2. Query for the rendered buttons. | Each button's text content should exactly match the derived category name (e.g., "Burgers"). |
| **1.4-C-01** | **Click Handler:** Verify the `onClick` handler is called with the correct category name. | 1. Create a mock `onCategorySelect` function. <br> 2. Render the component with the mock function as a prop. <br> 3. Simulate a click on the "Pizza" button. | The `onCategorySelect` mock function should be called once with the argument `'Pizza'`. |