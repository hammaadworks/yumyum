# Test Design: Story 2.7 - Cart Summary UI

Date: 2025-10-12
Designer: Winston (Architect)

## Test Strategy Overview

The strategy for the `CartSummary` UI combines unit tests for the price calculation logic (total per item and total for the order) and integration tests (React Testing Library with a mocked state provider) to verify the correct rendering of cart items and the user's ability to adjust quantities.

- Total test scenarios: 7
- Unit tests: 2 (29%)
- Integration tests: 5 (71%)
- E2E tests: 0 (0%)
- Priority distribution: P0: 5, P1: 2, P2: 0, P3: 0

## Test Scenarios by Acceptance Criteria

### AC1 & AC2: Component Rendering

| ID           | Level       | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----------- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 2.7-INT-001  | Integration | P0       | `CartSummary` drawer renders without crashing when opened.           | Basic smoke test to ensure the component is mountable.                     |
| 2.7-INT-002  | Integration | P1       | The drawer is scrollable when the item list exceeds the viewport height. | Verifies the component can handle a large number of items.                 |

### AC5: Item List & Quantity Controls

| ID           | Level       | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----------- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 2.7-INT-003  | Integration | P0       | Renders a line item for each unique dish in the cart.                | Verifies the component correctly maps cart state to UI elements.           |
| 2.7-INT-004  | Integration | P0       | Clicking the '+' and '-' controls updates the item's quantity in the cart state. | Critical test for the primary user interaction within the cart.            |

### AC6: Item Total Price

| ID           | Level | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 2.7-UNIT-001 | Unit  | P0       | Correctly calculates the total price for a line item (quantity x price). | Pure logic test for the fundamental business calculation.                  |

### AC7: Total Order Price

| ID           | Level       | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----------- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 2.7-UNIT-002 | Unit        | P1       | Correctly calculates the total price for the entire order.           | Pure logic test for the final order total calculation.                     |
| 2.7-INT-005  | Integration | P0       | The "Total Order Price" display updates when item quantities change. | Verifies that the UI correctly reflects the result of the calculation logic. |

## Recommended Execution Order

1.  P0 Unit tests
2.  P0 Integration tests
3.  P1 Unit tests
4.  P1 Integration tests
