# Test Design: Story 1.4 - Category Highlights Bar (v3 - Corrected)

Date: 2025-10-12
Designer: Winston (Architect)

## Test Strategy Overview

The strategy for the `CategoryHighlights` component combines unit tests for the category derivation logic and integration tests (React Testing Library) to validate the conditional rendering of the "Specials" category and the user's ability to interact with the buttons.

- Total test scenarios: 7
- Unit tests: 3 (43%)
- Integration tests: 4 (57%)
- E2E tests: 0 (0%)
- Priority distribution: P0: 4, P1: 3, P2: 0, P3: 0

## Test Scenarios by Acceptance Criteria

### AC1: Component Creation

| ID           | Level       | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----------- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 1.4-INT-001  | Integration | P0       | `CategoryHighlights` component renders without crashing with a dish list. | Basic smoke test to ensure the component is mountable.                     |

### AC2: "Specials" Category Logic

| ID           | Level       | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----------- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 1.4-UNIT-001 | Unit        | P0       | The "Specials" category is identified if a dish has a non-'normal' tag. | Pure logic test for the core business rule of the "Specials" category.     |
| 1.4-INT-002  | Integration | P1       | The "Specials" button is rendered as the first item if special dishes exist. | Verifies the UI correctly reflects the presence of special items.          |
| 1.4-INT-003  | Integration | P1       | The "Specials" button is NOT rendered if no special dishes exist.    | Verifies the conditional rendering logic for the "Specials" button.        |

### AC3: Unique Category Generation

| ID           | Level | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 1.4-UNIT-002 | Unit  | P0       | A unique, ordered list of categories is generated from the dish list. | Pure logic test to ensure categories are not duplicated and are sorted.    |
| 1.4-UNIT-003 | Unit  | P1       | An empty category list is handled gracefully without errors.         | Edge case validation for the data transformation logic.                    |

### AC6: User Interaction

| ID           | Level       | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----------- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 1.4-INT-004  | Integration | P0       | Clicking a category button fires an event to launch the Reel View.   | Critical test for the primary user interaction and application state change. |

## Recommended Execution Order

1.  P0 Unit tests
2.  P0 Integration tests
3.  P1 Unit tests
4.  P1 Integration tests
