---
epic: 2
story: 4
title: "Test Design: Right-Side Action Bar & Drawers"
---

### 1. Introduction

This document outlines the test plan for **Story 2.4: Right-Side Action Bar & Drawers**. The goal is to verify that the `ReelActionBar` component renders correctly and that its buttons trigger the appropriate actions, such as opening drawers or initiating a share action.

### 2. Test Objectives

*   **Verify Rendering:** Ensure the `ReelActionBar` displays its three icon buttons (Filter, Description, Share) in the correct order.
*   **Assess Drawer Interaction:**
  *   Confirm that clicking the "Filter" button opens the FilterDrawer.
  *   Confirm that clicking the "Description" button opens the DescriptionDrawer and that it displays the correct dish data.
*   **Validate Share Functionality:** Test that clicking the "Share" button attempts to call the Web Share API.
*   **Test Prop Handling:** Ensure components correctly receive and use props (e.g., the `dish` object for the `DescriptionDrawer`).

### 3. Test Scope

*   **In Scope:**
  *   Integration tests for the `ReelActionBar` and its child components.
  *   Mocking the `navigator.share` API to verify it is called.
  *   Testing the visibility of the drawer components upon button clicks.
*   **Out of Scope:**
  *   The internal functionality of the filter controls within the `FilterDrawer`.
  *   The visual "glassmorphic" styling.
  *   The swipe-to-dismiss functionality of the drawers.

### 4. Test Cases

| Test Case ID | Description | Steps | Expected Result |
| :--- | :--- | :--- | :--- |
| **2.4-R-01** | **Render Action Bar:** Render the `ReelActionBar` component. | 1. Render the component with a mock dish prop. | 1. Three buttons should be visible, identifiable by their `aria-label` (e.g., "Filter", "View description", "Share"). |
| **2.4-C-01** | **Open Filter Drawer:** Click the "Filter" button. | 1. Render the `ReelActionBar`. <br> 2. Simulate a click on the "Filter" button. | The `FilterDrawer` component (or its content) should become visible in the DOM. |
| **2.4-C-02** | **Open Description Drawer:** Click the "Description" button. | 1. Provide a mock `Dish` object. <br> 2. Render the `ReelActionBar`. <br> 3. Simulate a click on the "Description" button. | 1. The `DescriptionDrawer` should become visible. <br> 2. The drawer should contain the name and description from the mock dish. |
| **2.4-C-03** | **Trigger Share API:** Click the "Share" button. | 1. Mock the `navigator.share` function. <br> 2. Render the `ReelActionBar` with a mock dish. <br> 3. Simulate a click on the "Share" button. | The `navigator.share` mock function should be called once with an object containing a URL that includes the dish's ID. |
| **2.4-D-01** | **Description Drawer Content:** Verify the content of the `DescriptionDrawer`. | 1. Open the `DescriptionDrawer` as in **2.4-C-02**. <br> 2. Query for elements by their text content. | The drawer must display the `name`, `description`, `price`, and `tag` of the provided dish. |