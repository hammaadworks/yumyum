# Test Design: Story 1.5 - Controls Bar (v2 - Corrected)

Date: 2025-10-12
Designer: Winston (Architect)

## Test Strategy Overview

The test strategy for the `ControlsBar` component is centered on integration tests (React Testing Library). This approach is ideal for verifying that user interactions with the child controls (e.g., toggling "Veg Only") correctly update the component's state and notify parent components of the changes.

- Total test scenarios: 5
- Unit tests: 0 (0%)
- Integration tests: 5 (100%)
- E2E tests: 0 (0%)
- Priority distribution: P0: 3, P1: 2, P2: 0, P3: 0

## Test Scenarios by Acceptance Criteria

### AC1: Component Creation

| ID           | Level       | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----------- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 1.5-INT-001  | Integration | P0       | `ControlsBar` component renders without crashing.                    | Basic smoke test to ensure the component is mountable.                     |

### AC2: "Veg Only" Toggle

| ID           | Level       | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----------- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 1.5-INT-002  | Integration | P0       | Toggling the "Veg Only" switch fires an event with the new state.    | Critical test for the primary filtering interaction.                       |

### AC3: "Sort by Price" Control

| ID           | Level       | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----------- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 1.5-INT-003  | Integration | P0       | Toggling the "Sort by Price" control fires an event with the new state. | Critical test for the primary sorting interaction.                         |
| 1.5-INT-004  | Integration | P1       | The "Sort by Price" control defaults to "low-to-high".               | Verifies the initial state of the component is correct.                    |

### AC4: Search Input

| ID           | Level       | Priority | Test                                                                 | Justification                                                              |
| ------------ | ----------- | -------- | -------------------------------------------------------------------- | -------------------------------------------------------------------------- |
| 1.5-INT-005  | Integration | P1       | The Search input field is rendered.                                  | Confirms the placeholder for future search functionality is present.       |

## Recommended Execution Order

1.  P0 Integration tests
2.  P1 Integration tests
