---
epic: 2
story: 8
title: "Cart Item Swipe Actions"
status: "Draft"
---

### Story Statement

As a user reviewing my cart, I want to be able to swipe on an item to quickly delete it or view its details, so I can manage my order more efficiently.

### Acceptance Criteria

1.  In the Cart Summary drawer, swiping left on a line item reveals two buttons: "Delete" and "See Item".
2.  The swipe gesture is animated and smooth.
3.  Clicking the "Delete" button removes the item from the cart and updates the cart summary.
4.  Clicking the "See Item" button opens a small, centered modal.
5.  The modal displays the dish's image and name.
6.  The modal can be dismissed (e.g., by a close button or tapping outside of it).

### Dev Notes

#### Technical Specifications

*   **Gesture Library:** Implementing smooth swipe gestures can be complex. A library like `framer-motion` is recommended to handle the gesture detection and animation. [Source: `docs/ui-architecture.md#Section-2`]
*   **Component:** The swipe functionality will be added to the individual line items rendered inside the `CartSummary` component.
*   **Modal:** The "See Item" modal can be built using `shadcn-ui`'s `Dialog` component.
*   **State Management:** The "Delete" action will call the `removeItem` or `updateItemQuantity` (with quantity 0) action on the `useCartStore`.

#### File Locations

*   This story will modify:
    *   `apps/client/src/components/features/cart/CartSummary.tsx` (or a new child component for the line item).

### Tasks / Subtasks

1.  **(AC: 1, 2)** Create a new `CartItem.tsx` component to encapsulate the rendering of a single line item in the cart.
2.  **(AC: 1, 2)** Using `framer-motion`, wrap the `CartItem` content in a `motion.div` and use the `onPan` or `drag` gesture handlers to detect a horizontal swipe.
3.  **(AC: 1)** Create the container for the hidden "Delete" and "See Item" buttons. Animate its visibility based on the swipe gesture.
4.  **(AC: 3)** Wire the `onClick` handler of the "Delete" button to call the appropriate removal action on the `useCartStore`.
5.  **(AC: 4, 5)** Create a state variable to control the visibility of the "See Item" modal. Clicking the "See Item" button should set this state to true.
6.  **(AC: 4, 5, 6)** Implement the modal using `shadcn-ui`'s `Dialog`, which will display the item's image and name. Ensure it can be dismissed.
7.  **Test (Integration):** Write tests to verify:
    *   Swiping on an item reveals the action buttons.
    *   Clicking "Delete" removes the item from the store.
    *   Clicking "See Item" opens the modal.
